import{i as k,H as S,j as b,k as u,l as c,p as E,E as o,m as y,n as A,a as N,q as p,S as q}from"./D38RDk7S.js";import{h as R,s as _,a as g}from"./BLQC5hcz.js";function F(f,i,a,t=null,e=!1){let s=null,r=null,l=null;const h=k(()=>{if(l===(l=!!i()))return;let n=!1;if(R){const T=f.data===S;l===T&&(b(g),_(!1),n=!0)}l?(s?u(s):s=c(()=>a(f)),r&&E(r,()=>{r=null})):(r?u(r):t&&(r=c(()=>t(f))),s&&E(s,()=>{s=null})),n&&_(!0)});e&&(h.f|=o)}function d(f,i){var t;var a=f&&((t=f[q])==null?void 0:t.t);return f===i||a===i}function H(f,i,a,t){y(()=>{var e,s;return A(()=>{e=s,s=[],N(()=>{f!==a(...s)&&(i(f,...s),e&&d(a(...e),f)&&i(null,...e))})}),()=>{p(()=>{s&&d(a(...s),f)&&i(null,...s)})}})}export{H as b,F as i};
